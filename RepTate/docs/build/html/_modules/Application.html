

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Application &#8212; RepTate 0.9.2 20180503 documentation</title>
    <link rel="stylesheet" href="../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9.2 20180503',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/bizstyle.js"></script>
    <link rel="shortcut icon" href="../_static/Reptate64.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">RepTate 0.9.2 20180503 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Module code</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/RepTatelogo.jpg" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for Application</h1><div class="highlight"><pre>
<span></span><span class="c1"># RepTate: Rheology of Entangled Polymers: Toolkit for the Analysis of Theory and Experiments</span>
<span class="c1"># --------------------------------------------------------------------------------------------------------</span>
<span class="c1">#</span>
<span class="c1"># Authors:</span>
<span class="c1">#     Jorge Ramirez, jorge.ramirez@upm.es</span>
<span class="c1">#     Victor Boudara, victor.boudara@gmail.com</span>
<span class="c1">#</span>
<span class="c1"># Useful links:</span>
<span class="c1">#     http://blogs.upm.es/compsoftmatter/software/reptate/</span>
<span class="c1">#     https://github.com/jorge-ramirez-upm/RepTate</span>
<span class="c1">#     http://reptate.readthedocs.io</span>
<span class="c1">#</span>
<span class="c1"># --------------------------------------------------------------------------------------------------------</span>
<span class="c1">#</span>
<span class="c1"># Copyright (2017): Jorge Ramirez, Victor Boudara, Universidad Polit√©cnica de Madrid, University of Leeds</span>
<span class="c1">#</span>
<span class="c1"># This file is part of RepTate.</span>
<span class="c1">#</span>
<span class="c1"># RepTate is free software: you can redistribute it and/or modify</span>
<span class="c1"># it under the terms of the GNU General Public License as published by</span>
<span class="c1"># the Free Software Foundation, either version 3 of the License, or</span>
<span class="c1"># (at your option) any later version.</span>
<span class="c1">#</span>
<span class="c1"># RepTate is distributed in the hope that it will be useful,</span>
<span class="c1"># but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="c1"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="c1"># GNU General Public License for more details.</span>
<span class="c1">#</span>
<span class="c1"># You should have received a copy of the GNU General Public License</span>
<span class="c1"># along with RepTate.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<span class="c1">#</span>
<span class="c1"># --------------------------------------------------------------------------------------------------------</span>
<span class="sd">&quot;&quot;&quot;Module Application</span>

<span class="sd">Module that defines the basic class from which all applications are derived.</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">io</span>
<span class="c1">#import logging</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib.ticker</span> <span class="k">import</span> <span class="n">AutoMinorLocator</span><span class="p">,</span> <span class="n">LogLocator</span><span class="p">,</span> <span class="n">NullFormatter</span>

<span class="kn">from</span> <span class="nn">CmdBase</span> <span class="k">import</span> <span class="n">CmdBase</span><span class="p">,</span> <span class="n">CmdMode</span>
<span class="kn">from</span> <span class="nn">Theory</span> <span class="k">import</span> <span class="n">Theory</span>
<span class="kn">from</span> <span class="nn">DataSet</span> <span class="k">import</span> <span class="n">DataSet</span>
<span class="kn">from</span> <span class="nn">TheoryBasic</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">Tool</span> <span class="k">import</span> <span class="o">*</span>

<span class="kn">from</span> <span class="nn">MultiView</span> <span class="k">import</span> <span class="n">MultiView</span><span class="p">,</span> <span class="n">PlotOrganizationType</span>
<span class="kn">from</span> <span class="nn">PyQt5.QtWidgets</span> <span class="k">import</span> <span class="n">QMenu</span><span class="p">,</span> <span class="n">QApplication</span>
<span class="kn">from</span> <span class="nn">PyQt5.QtGui</span> <span class="k">import</span> <span class="n">QCursor</span><span class="p">,</span> <span class="n">QImage</span>

<span class="kn">from</span> <span class="nn">collections</span> <span class="k">import</span> <span class="n">OrderedDict</span>
<span class="kn">from</span> <span class="nn">TheoryBasic</span> <span class="k">import</span> <span class="n">TheoryPolynomial</span><span class="p">,</span> <span class="n">TheoryPowerLaw</span><span class="p">,</span> <span class="n">TheoryExponential</span><span class="p">,</span> <span class="n">TheoryTwoExponentials</span>
<span class="kn">from</span> <span class="nn">ToolIntegral</span> <span class="k">import</span> <span class="n">ToolIntegral</span>
<span class="kn">from</span> <span class="nn">ToolFindPeaks</span> <span class="k">import</span> <span class="n">ToolFindPeaks</span>
<span class="kn">from</span> <span class="nn">ToolGradient</span> <span class="k">import</span> <span class="n">ToolGradient</span>
<span class="kn">from</span> <span class="nn">ToolSmooth</span> <span class="k">import</span> <span class="n">ToolSmooth</span>
<span class="kn">from</span> <span class="nn">ToolBounds</span> <span class="k">import</span> <span class="n">ToolBounds</span>
<span class="kn">from</span> <span class="nn">ToolEvaluate</span> <span class="k">import</span> <span class="n">ToolEvaluate</span>

<div class="viewcode-block" id="Application"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application">[docs]</a><span class="k">class</span> <span class="nc">Application</span><span class="p">(</span><span class="n">CmdBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Main abstract class that represents an application</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Template&quot;</span>
    <span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;Abstract class that defines basic functionality&quot;</span>
    <span class="n">extension</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ApplicationTemplate&quot;</span><span class="p">,</span>
                 <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">nplots</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                 <span class="n">ncols</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                 <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        **Constructor**</span>
<span class="sd">        </span>
<span class="sd">        Keyword Arguments:</span>
<span class="sd">            - name {[type]} -- [description] (default: {&quot;ApplicationTemplate&quot;})</span>
<span class="sd">            - parent {[type]} -- [description] (default: {None})</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent_manager</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="c1">#self.logger = logging.getLogger(&#39;ReptateLogger&#39;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">views</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filetypes</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span> <span class="c1"># keep filetypes in order</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">theories</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>  <span class="c1"># keep theory combobox in order</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">availabletools</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>     <span class="c1"># keep tools combobox in order</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">datasets</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tools</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_tools</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_view</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_datasets</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">legend_visible</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multiviews</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1">#default view order in multiplot views</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nplots</span> <span class="o">=</span> <span class="n">nplots</span>  <span class="c1">#number of plots</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ncols</span> <span class="o">=</span> <span class="n">ncols</span>  <span class="c1">#number of columns in the multiplot</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_viewtab</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">artists_clicked</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">autoscale</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="c1"># Theories available everywhere</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">common_theories</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>  <span class="c1"># keep theory combobox in order</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">common_theories</span><span class="p">[</span><span class="n">TheoryPolynomial</span><span class="o">.</span><span class="n">thname</span><span class="p">]</span> <span class="o">=</span> <span class="n">TheoryPolynomial</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">common_theories</span><span class="p">[</span><span class="n">TheoryPowerLaw</span><span class="o">.</span><span class="n">thname</span><span class="p">]</span> <span class="o">=</span> <span class="n">TheoryPowerLaw</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">common_theories</span><span class="p">[</span><span class="n">TheoryExponential</span><span class="o">.</span><span class="n">thname</span><span class="p">]</span> <span class="o">=</span> <span class="n">TheoryExponential</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">common_theories</span><span class="p">[</span><span class="n">TheoryTwoExponentials</span><span class="o">.</span><span class="n">thname</span><span class="p">]</span> <span class="o">=</span> <span class="n">TheoryTwoExponentials</span>

        <span class="c1"># Tools available everywhere</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">availabletools</span><span class="p">[</span><span class="n">ToolBounds</span><span class="o">.</span><span class="n">toolname</span><span class="p">]</span> <span class="o">=</span> <span class="n">ToolBounds</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">availabletools</span><span class="p">[</span><span class="n">ToolEvaluate</span><span class="o">.</span><span class="n">toolname</span><span class="p">]</span> <span class="o">=</span> <span class="n">ToolEvaluate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">availabletools</span><span class="p">[</span><span class="n">ToolFindPeaks</span><span class="o">.</span><span class="n">toolname</span><span class="p">]</span> <span class="o">=</span> <span class="n">ToolFindPeaks</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">availabletools</span><span class="p">[</span><span class="n">ToolGradient</span><span class="o">.</span><span class="n">toolname</span><span class="p">]</span> <span class="o">=</span> <span class="n">ToolGradient</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">availabletools</span><span class="p">[</span><span class="n">ToolIntegral</span><span class="o">.</span><span class="n">toolname</span><span class="p">]</span> <span class="o">=</span> <span class="n">ToolIntegral</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">availabletools</span><span class="p">[</span><span class="n">ToolSmooth</span><span class="o">.</span><span class="n">toolname</span><span class="p">]</span> <span class="o">=</span> <span class="n">ToolSmooth</span>
        
        <span class="c1"># MATPLOTLIB STUFF</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multiplots</span> <span class="o">=</span> <span class="n">MultiView</span><span class="p">(</span><span class="n">PlotOrganizationType</span><span class="o">.</span><span class="n">OptimalRow</span><span class="p">,</span>
                                    <span class="bp">self</span><span class="o">.</span><span class="n">nplots</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ncols</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multiplots</span><span class="o">.</span><span class="n">plotselecttabWidget</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current_viewtab</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">multiplots</span><span class="o">.</span><span class="n">figure</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">multiplots</span><span class="o">.</span><span class="n">axarr</span>  <span class="c1">#</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">multiplots</span><span class="o">.</span><span class="n">canvas</span>

        <span class="n">connection_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s1">&#39;pick_event&#39;</span><span class="p">,</span>
                                                       <span class="bp">self</span><span class="o">.</span><span class="n">onpick</span><span class="p">)</span>
        <span class="n">connection_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s1">&#39;button_release_event&#39;</span><span class="p">,</span>
                                                       <span class="bp">self</span><span class="o">.</span><span class="n">onrelease</span><span class="p">)</span>
        <span class="n">connection_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s1">&#39;scroll_event&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">zoom_wheel</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">CmdBase</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="n">CmdMode</span><span class="o">.</span><span class="n">cmdline</span><span class="p">):</span>
            <span class="c1"># self.figure.show()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">multiplots</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<div class="viewcode-block" id="Application.add_common_theories"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.add_common_theories">[docs]</a>    <span class="k">def</span> <span class="nf">add_common_theories</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">th</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">common_theories</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">theories</span><span class="p">[</span><span class="n">th</span><span class="o">.</span><span class="n">thname</span><span class="p">]</span> <span class="o">=</span> <span class="n">th</span></div>

<div class="viewcode-block" id="Application.onrelease"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.onrelease">[docs]</a>    <span class="k">def</span> <span class="nf">onrelease</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Called when releasing mouse&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">button</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>  <span class="c1">#if release a right click</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">open_figure_popup_menu</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">artists_clicked</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span></div>

<div class="viewcode-block" id="Application.onpick"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.onpick">[docs]</a>    <span class="k">def</span> <span class="nf">onpick</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Called when clicking on a plot/artist&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">mouseevent</span><span class="o">.</span><span class="n">button</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>  <span class="c1">#right click in plot</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">artists_clicked</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="n">event</span><span class="o">.</span><span class="n">artist</span><span class="p">)</span>  <span class="c1">#collect all artists under mouse</span></div>

<div class="viewcode-block" id="Application.open_figure_popup_menu"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.open_figure_popup_menu">[docs]</a>    <span class="k">def</span> <span class="nf">open_figure_popup_menu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Open a menu to let the user copy data or chart to clipboard&quot;&quot;&quot;</span>
        <span class="n">main_menu</span> <span class="o">=</span> <span class="n">QMenu</span><span class="p">()</span>

        <span class="c1">#copy chart action</span>
        <span class="n">copy_chart_action</span> <span class="o">=</span> <span class="n">main_menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="s2">&quot;Copy Chart to Clipboard&quot;</span><span class="p">)</span>
        <span class="n">copy_chart_action</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">copy_chart</span><span class="p">)</span>

        <span class="c1">#copy data sub-menu</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">artists_clicked</span><span class="p">:</span>  <span class="c1">#do nothing if list of artists is empty</span>
            <span class="n">menu</span> <span class="o">=</span> <span class="n">QMenu</span><span class="p">(</span><span class="s2">&quot;Copy Data To Clipboard&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">artist</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">artists_clicked</span><span class="p">:</span>
                <span class="n">action_print_coordinates</span> <span class="o">=</span> <span class="n">menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">artist</span><span class="o">.</span><span class="n">aname</span><span class="p">)</span>
                <span class="n">action_print_coordinates</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
                    <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">clipboard_coordinates</span><span class="p">(</span><span class="n">artist</span><span class="p">))</span>
            <span class="n">main_menu</span><span class="o">.</span><span class="n">addMenu</span><span class="p">(</span><span class="n">menu</span><span class="p">)</span>

        <span class="c1">#launch menu</span>
        <span class="k">if</span> <span class="n">main_menu</span><span class="o">.</span><span class="n">exec_</span><span class="p">(</span><span class="n">QCursor</span><span class="o">.</span><span class="n">pos</span><span class="p">()):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">artists_clicked</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span></div>

<div class="viewcode-block" id="Application.copy_chart"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.copy_chart">[docs]</a>    <span class="k">def</span> <span class="nf">copy_chart</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Copy current chart to clipboard</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">buf</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>
        <span class="n">QApplication</span><span class="o">.</span><span class="n">clipboard</span><span class="p">()</span><span class="o">.</span><span class="n">setImage</span><span class="p">(</span><span class="n">QImage</span><span class="o">.</span><span class="n">fromData</span><span class="p">(</span><span class="n">buf</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()))</span>
        <span class="n">buf</span><span class="o">.</span><span class="n">close</span><span class="p">()</span></div>

<div class="viewcode-block" id="Application.clipboard_coordinates"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.clipboard_coordinates">[docs]</a>    <span class="k">def</span> <span class="nf">clipboard_coordinates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artist</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Copy data to clipboard in tab-separated format&quot;&quot;&quot;</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">artist</span><span class="o">.</span><span class="n">get_data</span><span class="p">()</span>
        <span class="n">line_strings</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)):</span>
            <span class="n">line_strings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
        <span class="n">array_string</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">line_strings</span><span class="p">)</span>
        <span class="n">QApplication</span><span class="o">.</span><span class="n">clipboard</span><span class="p">()</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">array_string</span><span class="p">)</span></div>

<div class="viewcode-block" id="Application.handle_close_window"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.handle_close_window">[docs]</a>    <span class="k">def</span> <span class="nf">handle_close_window</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evt</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;[summary]</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        </span>
<span class="sd">        Arguments:</span>
<span class="sd">            - evt {[type]} -- [description]</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            [type] -- [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Application window </span><span class="si">%s</span><span class="s2"> has been closed</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span>
            <span class="s2">&quot;Please, return to the RepTate prompt and delete the application&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Application.zoom_wheel"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.zoom_wheel">[docs]</a>    <span class="k">def</span> <span class="nf">zoom_wheel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;[summary]</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        </span>
<span class="sd">        Arguments:</span>
<span class="sd">            - event {[type]} -- [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># get the current x and y limits</span>
        <span class="n">base_scale</span> <span class="o">=</span> <span class="mf">1.1</span>
        <span class="n">cur_xlim</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()</span>
        <span class="n">cur_ylim</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()</span>
        <span class="c1"># set the range</span>
        <span class="c1">#cur_xrange = (cur_xlim[1] - cur_xlim[0])*.5</span>
        <span class="c1">#cur_yrange = (cur_ylim[1] - cur_ylim[0])*.5</span>
        <span class="n">xdata</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">xdata</span>  <span class="c1"># get event x location</span>
        <span class="n">ydata</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">ydata</span>  <span class="c1"># get event y location</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">xdata</span> <span class="o">==</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">ydata</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">button</span> <span class="o">==</span> <span class="s1">&#39;up&#39;</span><span class="p">:</span>
            <span class="c1"># deal with zoom in</span>
            <span class="n">scale_factor</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">base_scale</span>
        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">button</span> <span class="o">==</span> <span class="s1">&#39;down&#39;</span><span class="p">:</span>
            <span class="c1"># deal with zoom out</span>
            <span class="n">scale_factor</span> <span class="o">=</span> <span class="n">base_scale</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># deal with something that should never happen</span>
            <span class="n">scale_factor</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="c1"># Get distance from the cursor to the edge of the figure frame</span>
        <span class="n">x_left</span> <span class="o">=</span> <span class="n">xdata</span> <span class="o">-</span> <span class="n">cur_xlim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">x_right</span> <span class="o">=</span> <span class="n">cur_xlim</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">xdata</span>
        <span class="n">y_top</span> <span class="o">=</span> <span class="n">ydata</span> <span class="o">-</span> <span class="n">cur_ylim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">y_bottom</span> <span class="o">=</span> <span class="n">cur_ylim</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">ydata</span>
        <span class="c1"># set new limits</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span>
            <span class="p">[</span><span class="n">xdata</span> <span class="o">-</span> <span class="n">x_left</span> <span class="o">*</span> <span class="n">scale_factor</span><span class="p">,</span> <span class="n">xdata</span> <span class="o">+</span> <span class="n">x_right</span> <span class="o">*</span> <span class="n">scale_factor</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span>
            <span class="p">[</span><span class="n">ydata</span> <span class="o">-</span> <span class="n">y_top</span> <span class="o">*</span> <span class="n">scale_factor</span><span class="p">,</span> <span class="n">ydata</span> <span class="o">+</span> <span class="n">y_bottom</span> <span class="o">*</span> <span class="n">scale_factor</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>  <span class="c1"># force re-draw</span></div>

<div class="viewcode-block" id="Application.new"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.new">[docs]</a>    <span class="k">def</span> <span class="nf">new</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create new empty dataset in the application</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        </span>
<span class="sd">        Arguments:</span>
<span class="sd">            - line {[type]} -- [description]</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            - [type] -- [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_datasets</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">line</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
            <span class="n">dsname</span> <span class="o">=</span> <span class="s2">&quot;DataSet</span><span class="si">%02d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_datasets</span>
            <span class="n">dsdescription</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">items</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
            <span class="n">dsname</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">):</span>
                <span class="n">dsdescription</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">dsdescription</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">ds</span> <span class="o">=</span> <span class="n">DataSet</span><span class="p">(</span><span class="n">dsname</span><span class="p">,</span> <span class="n">dsdescription</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ds</span><span class="p">,</span> <span class="n">dsname</span></div>

<div class="viewcode-block" id="Application.do_new"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.do_new">[docs]</a>    <span class="k">def</span> <span class="nf">do_new</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a new empty dataset in this application.</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        </span>
<span class="sd">        Arguments:</span>
<span class="sd">            line {str} -- [NAME [, DESCRIPTION]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ds</span><span class="p">,</span> <span class="n">dsname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">datasets</span><span class="p">[</span><span class="n">dsname</span><span class="p">]</span> <span class="o">=</span> <span class="n">ds</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="n">CmdMode</span><span class="o">.</span><span class="n">batch</span><span class="p">):</span>
            <span class="n">ds</span><span class="o">.</span><span class="n">prompt</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ds</span><span class="o">.</span><span class="n">prompt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prompt</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">ds</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s1">&#39;&gt; &#39;</span>
        <span class="n">ds</span><span class="o">.</span><span class="n">cmdloop</span><span class="p">()</span></div>

<div class="viewcode-block" id="Application.delete"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.delete">[docs]</a>    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ds_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Delete a dataset from the current application</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        </span>
<span class="sd">        Arguments:</span>
<span class="sd">            - ds_name {[type]} -- [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">ds_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">remove_ds_ax_lines</span><span class="p">(</span><span class="n">ds_name</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">th</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">datasets</span><span class="p">[</span><span class="n">ds_name</span><span class="p">]</span><span class="o">.</span><span class="n">theories</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">th</span><span class="o">.</span><span class="n">destructor</span><span class="p">()</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">datasets</span><span class="p">[</span><span class="n">ds_name</span><span class="p">]</span><span class="o">.</span><span class="n">theories</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">datasets</span><span class="p">[</span><span class="n">ds_name</span><span class="p">]</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">datasets</span><span class="p">[</span><span class="n">ds_name</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data Set </span><span class="se">\&quot;</span><span class="si">%s</span><span class="se">\&quot;</span><span class="s2"> not found&quot;</span> <span class="o">%</span> <span class="n">ds_name</span><span class="p">)</span></div>

<div class="viewcode-block" id="Application.remove_ds_ax_lines"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.remove_ds_ax_lines">[docs]</a>    <span class="k">def</span> <span class="nf">remove_ds_ax_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ds_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove all dataset file artists from ax including theory ones</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        </span>
<span class="sd">        Arguments:</span>
<span class="sd">            - ds_name {[type]} -- [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">datasets</span><span class="p">[</span><span class="n">ds_name</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">for</span> <span class="n">th</span> <span class="ow">in</span> <span class="n">ds</span><span class="o">.</span><span class="n">theories</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">tt</span> <span class="ow">in</span> <span class="n">th</span><span class="o">.</span><span class="n">tables</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">tt</span><span class="o">.</span><span class="n">MAX_NUM_SERIES</span><span class="p">):</span>
                    <span class="k">for</span> <span class="n">nx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nplots</span><span class="p">):</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="n">nx</span><span class="p">]</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">tt</span><span class="o">.</span><span class="n">series</span><span class="p">[</span><span class="n">nx</span><span class="p">][</span><span class="n">i</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">ds</span><span class="o">.</span><span class="n">files</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">data_table</span><span class="o">.</span><span class="n">MAX_NUM_SERIES</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">nx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nplots</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="n">nx</span><span class="p">]</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">data_table</span><span class="o">.</span><span class="n">series</span><span class="p">[</span><span class="n">nx</span><span class="p">][</span><span class="n">i</span><span class="p">])</span></div>

<div class="viewcode-block" id="Application.do_delete"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.do_delete">[docs]</a>    <span class="k">def</span> <span class="nf">do_delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Delete a dataset from the current application</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        </span>
<span class="sd">        Arguments:</span>
<span class="sd">            - name {[type]} -- [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="Application.complete_delete"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.complete_delete">[docs]</a>    <span class="k">def</span> <span class="nf">complete_delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">begidx</span><span class="p">,</span> <span class="n">endidx</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Complete delete dataset command</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        </span>
<span class="sd">        Arguments:</span>
<span class="sd">            - text {[type]} -- [description]</span>
<span class="sd">            - line {[type]} -- [description]</span>
<span class="sd">            - begidx {[type]} -- [description]</span>
<span class="sd">            - endidx {[type]} -- [description]</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            - [type] -- [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dataset_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">text</span><span class="p">:</span>
            <span class="n">completions</span> <span class="o">=</span> <span class="n">dataset_names</span><span class="p">[:]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">completions</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">dataset_names</span> <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">text</span><span class="p">)]</span>
        <span class="k">return</span> <span class="n">completions</span></div>

<div class="viewcode-block" id="Application.list"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.list">[docs]</a>    <span class="k">def</span> <span class="nf">list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;List the datasets in the current application</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">:</span><span class="se">\t</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">ds</span><span class="o">.</span><span class="n">description</span><span class="p">))</span></div>

<div class="viewcode-block" id="Application.do_list"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.do_list">[docs]</a>    <span class="k">def</span> <span class="nf">do_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;List the datasets in the current application</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        </span>
<span class="sd">        Arguments:</span>
<span class="sd">            - line {[type]} -- [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">list</span><span class="p">()</span></div>

<div class="viewcode-block" id="Application.do_switch"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.do_switch">[docs]</a>    <span class="k">def</span> <span class="nf">do_switch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Switch the current dataset</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        </span>
<span class="sd">        Arguments:</span>
<span class="sd">            - name {[type]} -- [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">done</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">datasets</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
            <span class="n">ds</span><span class="o">.</span><span class="n">cmdloop</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Dataset </span><span class="se">\&quot;</span><span class="si">%s</span><span class="se">\&quot;</span><span class="s2"> not found&quot;</span> <span class="o">%</span> <span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="Application.complete_switch"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.complete_switch">[docs]</a>    <span class="k">def</span> <span class="nf">complete_switch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">begidx</span><span class="p">,</span> <span class="n">endidx</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Complete the switch dataset command</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        </span>
<span class="sd">        Arguments:</span>
<span class="sd">            - text {[type]} -- [description]</span>
<span class="sd">            - line {[type]} -- [description]</span>
<span class="sd">            - begidx {[type]} -- [description]</span>
<span class="sd">            - endidx {[type]} -- [description]</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            - [type] -- [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ds_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">text</span><span class="p">:</span>
            <span class="n">completions</span> <span class="o">=</span> <span class="n">ds_names</span><span class="p">[:]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">completions</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">ds_names</span> <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">text</span><span class="p">)]</span>
        <span class="k">return</span> <span class="n">completions</span></div>

<span class="c1"># FILE TYPE STUFF</span>

<div class="viewcode-block" id="Application.filetype_available"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.filetype_available">[docs]</a>    <span class="k">def</span> <span class="nf">filetype_available</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;List available file types in the current application</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ftypes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filetypes</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
        <span class="k">for</span> <span class="n">ftype</span> <span class="ow">in</span> <span class="n">ftypes</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">:</span><span class="se">\t</span><span class="si">%s</span><span class="se">\t</span><span class="s2">*.</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ftype</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">ftype</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
                                     <span class="n">ftype</span><span class="o">.</span><span class="n">extension</span><span class="p">))</span></div>

<div class="viewcode-block" id="Application.do_filetype_available"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.do_filetype_available">[docs]</a>    <span class="k">def</span> <span class="nf">do_filetype_available</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;List available file types in the current application</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        </span>
<span class="sd">        Arguments:</span>
<span class="sd">            - line {[type]} -- [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filetype_available</span><span class="p">()</span></div>

<span class="c1"># VIEW STUFF</span>

<div class="viewcode-block" id="Application.set_views"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.set_views">[docs]</a>    <span class="k">def</span> <span class="nf">set_views</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set current view and assign availiable view</span>
<span class="sd">        labels to viewComboBox if in GUI mode</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">view_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">views</span><span class="p">):</span>  <span class="c1">#loop over the keys</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1">#index 0 is the defaut view</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">current_view</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">views</span><span class="p">[</span><span class="n">view_name</span><span class="p">]</span>
            <span class="c1">#add view name to the list of views avaliable</span>
            <span class="k">if</span> <span class="n">CmdBase</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="n">CmdMode</span><span class="o">.</span><span class="n">GUI</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">viewComboBox</span><span class="o">.</span><span class="n">insertItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">view_name</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">CmdBase</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="n">CmdMode</span><span class="o">.</span><span class="n">GUI</span><span class="p">:</span>
            <span class="c1">#index 0 is the defaut selection</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">viewComboBox</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span></div>

<div class="viewcode-block" id="Application.view_available"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.view_available">[docs]</a>    <span class="k">def</span> <span class="nf">view_available</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;List available views in the current application</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">view</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">views</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">view</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_view</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;*</span><span class="si">%s</span><span class="s2">:</span><span class="se">\t</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">view</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">view</span><span class="o">.</span><span class="n">description</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">:</span><span class="se">\t</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">view</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">view</span><span class="o">.</span><span class="n">description</span><span class="p">))</span></div>

<div class="viewcode-block" id="Application.do_view_available"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.do_view_available">[docs]</a>    <span class="k">def</span> <span class="nf">do_view_available</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;List available views in the current application</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        </span>
<span class="sd">        Arguments:</span>
<span class="sd">            - line {[type]} -- [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view_available</span><span class="p">()</span></div>

<div class="viewcode-block" id="Application.view_switch"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.view_switch">[docs]</a>    <span class="k">def</span> <span class="nf">view_switch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Change to another view from open application</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        </span>
<span class="sd">        Arguments:</span>
<span class="sd">            - name {[type]} -- [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">views</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current_view</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">views</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_viewtab</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">multiviews</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">views</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">multiviews</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">current_viewtab</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">views</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;View </span><span class="se">\&quot;</span><span class="si">%s</span><span class="se">\&quot;</span><span class="s2"> not found&quot;</span> <span class="o">%</span> <span class="n">name</span><span class="p">)</span>
        <span class="c1"># Update the plots!</span>
        <span class="c1"># Loop over datasets and call do_plot()</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">autoscale</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">autoscale</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_all_ds_plots</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">autoscale</span> <span class="o">=</span> <span class="n">temp</span></div>

<div class="viewcode-block" id="Application.update_all_ds_plots"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.update_all_ds_plots">[docs]</a>    <span class="k">def</span> <span class="nf">update_all_ds_plots</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;[summary]</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">ds</span><span class="o">.</span><span class="n">do_plot</span><span class="p">()</span></div>

<div class="viewcode-block" id="Application.do_view_switch"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.do_view_switch">[docs]</a>    <span class="k">def</span> <span class="nf">do_view_switch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Change to another view from open application</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        </span>
<span class="sd">        Arguments:</span>
<span class="sd">            - name {[type]} -- [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view_switch</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="Application.complete_view_switch"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.complete_view_switch">[docs]</a>    <span class="k">def</span> <span class="nf">complete_view_switch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">begidx</span><span class="p">,</span> <span class="n">endidx</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Complete switch view command</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        </span>
<span class="sd">        Arguments:</span>
<span class="sd">            - text {[type]} -- [description]</span>
<span class="sd">            - line {[type]} -- [description]</span>
<span class="sd">            - begidx {[type]} -- [description]</span>
<span class="sd">            - endidx {[type]} -- [description]</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            - [type] -- [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">view_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">views</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">text</span><span class="p">:</span>
            <span class="n">completions</span> <span class="o">=</span> <span class="n">view_names</span><span class="p">[:]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">completions</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">view_names</span> <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">text</span><span class="p">)]</span>
        <span class="k">return</span> <span class="n">completions</span></div>

<span class="c1"># THEORY STUFF</span>

<div class="viewcode-block" id="Application.theory_available"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.theory_available">[docs]</a>    <span class="k">def</span> <span class="nf">theory_available</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;List available theories in the current application</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">theories</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">:</span><span class="se">\t</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">thname</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">description</span><span class="p">))</span></div>

<div class="viewcode-block" id="Application.do_theory_available"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.do_theory_available">[docs]</a>    <span class="k">def</span> <span class="nf">do_theory_available</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;List available theories in the current application</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        </span>
<span class="sd">        Arguments:</span>
<span class="sd">            line {[type]} -- [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">theory_available</span><span class="p">()</span></div>

<span class="c1"># TOOL STUFF</span>
<div class="viewcode-block" id="Application.tool_available"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.tool_available">[docs]</a>    <span class="k">def</span> <span class="nf">tool_available</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;List available tools in the current application</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">availabletools</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">:</span><span class="se">\t</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">toolname</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">description</span><span class="p">))</span></div>

<div class="viewcode-block" id="Application.do_tool_available"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.do_tool_available">[docs]</a>    <span class="k">def</span> <span class="nf">do_tool_available</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;List available tools in the current application</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        </span>
<span class="sd">        Arguments:</span>
<span class="sd">            line {[type]} -- [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tool_available</span><span class="p">()</span></div>

<div class="viewcode-block" id="Application.do_tool_add"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.do_tool_add">[docs]</a>    <span class="k">def</span> <span class="nf">do_tool_add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add a new tool of the type specified to the list of tools&quot;&quot;&quot;</span>
        <span class="n">tooltypes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">availabletools</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">line</span> <span class="ow">in</span> <span class="n">tooltypes</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">num_tools</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">to_id</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s%02d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_tools</span><span class="p">)</span>
            <span class="n">to</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">availabletools</span><span class="p">[</span><span class="n">line</span><span class="p">](</span><span class="n">to_id</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">to</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="n">CmdMode</span><span class="o">.</span><span class="n">GUI</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="n">CmdMode</span><span class="o">.</span><span class="n">batch</span><span class="p">):</span>
                    <span class="n">to</span><span class="o">.</span><span class="n">prompt</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">to</span><span class="o">.</span><span class="n">prompt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prompt</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">to</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s1">&#39;&gt; &#39;</span>
                <span class="n">to</span><span class="o">.</span><span class="n">cmdloop</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">to</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tool </span><span class="se">\&quot;</span><span class="si">%s</span><span class="se">\&quot;</span><span class="s2"> does not exists&quot;</span> <span class="o">%</span> <span class="n">line</span><span class="p">)</span></div>

<div class="viewcode-block" id="Application.complete_tool_add"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.complete_tool_add">[docs]</a>    <span class="k">def</span> <span class="nf">complete_tool_add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">begidx</span><span class="p">,</span> <span class="n">endidx</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Complete new tool command&quot;&quot;&quot;</span>
        <span class="n">tool_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">availabletools</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">text</span><span class="p">:</span>
            <span class="n">completions</span> <span class="o">=</span> <span class="n">tool_names</span><span class="p">[:]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">completions</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">tool_names</span> <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">text</span><span class="p">)]</span>
        <span class="k">return</span> <span class="n">completions</span></div>

<div class="viewcode-block" id="Application.do_tool_delete"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.do_tool_delete">[docs]</a>    <span class="k">def</span> <span class="nf">do_tool_delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Delete a tool from the current application&quot;&quot;&quot;</span>
        <span class="n">listtools</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="p">]</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">idx</span> <span class="o">=</span> <span class="n">listtools</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span><span class="o">.</span><span class="n">destructor</span><span class="p">()</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tool </span><span class="se">\&quot;</span><span class="si">%s</span><span class="se">\&quot;</span><span class="s2"> not found&quot;</span> <span class="o">%</span> <span class="n">name</span><span class="p">)</span></div>
            
<div class="viewcode-block" id="Application.complete_tool_delete"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.complete_tool_delete">[docs]</a>    <span class="k">def</span> <span class="nf">complete_tool_delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">begidx</span><span class="p">,</span> <span class="n">endidx</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Complete delete tool command&quot;&quot;&quot;</span>
        <span class="n">listtools</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">text</span><span class="p">:</span>
            <span class="n">completions</span> <span class="o">=</span> <span class="n">listtools</span><span class="p">[:]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">completions</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">listtools</span> <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">text</span><span class="p">)]</span>
        <span class="k">return</span> <span class="n">completions</span></div>
        
<div class="viewcode-block" id="Application.do_tool_list"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.do_tool_list">[docs]</a>    <span class="k">def</span> <span class="nf">do_tool_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;List opened tools&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">t</span><span class="o">.</span><span class="n">active</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot; *&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="Application.do_tool_switch"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.do_tool_switch">[docs]</a>    <span class="k">def</span> <span class="nf">do_tool_switch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Change the active tool&quot;&quot;&quot;</span>
        <span class="n">listtools</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="p">]</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">idx</span> <span class="o">=</span> <span class="n">listtools</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span><span class="o">.</span><span class="n">cmdloop</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tool</span><span class="se">\&quot;</span><span class="si">%s</span><span class="se">\&quot;</span><span class="s2"> not found&quot;</span> <span class="o">%</span> <span class="n">line</span><span class="p">)</span></div>

<div class="viewcode-block" id="Application.complete_tool_switch"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.complete_tool_switch">[docs]</a>    <span class="k">def</span> <span class="nf">complete_tool_switch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">begidx</span><span class="p">,</span> <span class="n">endidx</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Complete the tool switch command&quot;&quot;&quot;</span>
        <span class="n">completions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">complete_tool_delete</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">begidx</span><span class="p">,</span> <span class="n">endidx</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">completions</span></div>

<div class="viewcode-block" id="Application.do_tool_activate"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.do_tool_activate">[docs]</a>    <span class="k">def</span> <span class="nf">do_tool_activate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="n">listtools</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="p">]</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">idx</span> <span class="o">=</span> <span class="n">listtools</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span><span class="o">.</span><span class="n">do_activate</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tool </span><span class="se">\&quot;</span><span class="si">%s</span><span class="se">\&quot;</span><span class="s2"> not found&quot;</span> <span class="o">%</span> <span class="n">name</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tool </span><span class="se">\&quot;</span><span class="si">%s</span><span class="se">\&quot;</span><span class="s2"> not found&quot;</span> <span class="o">%</span> <span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="Application.complete_tool_activate"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.complete_tool_activate">[docs]</a>    <span class="k">def</span> <span class="nf">complete_tool_activate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">begidx</span><span class="p">,</span> <span class="n">endidx</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Complete the tool switch command&quot;&quot;&quot;</span>
        <span class="n">completions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">complete_tool_delete</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">begidx</span><span class="p">,</span> <span class="n">endidx</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">completions</span></div>

<span class="c1"># LEGEND STUFF</span>

<div class="viewcode-block" id="Application.legend"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.legend">[docs]</a>    <span class="k">def</span> <span class="nf">legend</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;[summary]</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">legend_visible</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">legend_visible</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_legend_properties</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span></div>

<div class="viewcode-block" id="Application.do_legend"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.do_legend">[docs]</a>    <span class="k">def</span> <span class="nf">do_legend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;[summary]</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        </span>
<span class="sd">        Arguments:</span>
<span class="sd">            - line {[type]} -- [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span></div>


<span class="c1"># OTHER STUFF</span>

<div class="viewcode-block" id="Application.update_plot"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.update_plot">[docs]</a>    <span class="k">def</span> <span class="nf">update_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;[summary]</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_axes_properties</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">autoscale</span><span class="p">)</span>
        <span class="c1">#self.set_legend_properties()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span></div>

<div class="viewcode-block" id="Application.set_axes_properties"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.set_axes_properties">[docs]</a>    <span class="k">def</span> <span class="nf">set_axes_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">autoscale</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;[summary]</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">nx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nplots</span><span class="p">):</span>
            <span class="n">view</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">multiviews</span><span class="p">[</span><span class="n">nx</span><span class="p">]</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">view</span><span class="o">.</span><span class="n">log_x</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="n">nx</span><span class="p">]</span><span class="o">.</span><span class="n">set_xscale</span><span class="p">(</span><span class="s2">&quot;log&quot;</span><span class="p">)</span>
                <span class="c1">#self.axarr[nx].xaxis.set_minor_locator(LogLocator(subs=range(10)))</span>
                <span class="n">locmaj</span> <span class="o">=</span> <span class="n">LogLocator</span><span class="p">(</span><span class="n">base</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">subs</span><span class="o">=</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="p">),</span> <span class="n">numticks</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="n">nx</span><span class="p">]</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">locmaj</span><span class="p">)</span>
                <span class="n">locmin</span> <span class="o">=</span> <span class="n">LogLocator</span><span class="p">(</span>
                    <span class="n">base</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">subs</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="o">*</span> <span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="n">numticks</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="n">nx</span><span class="p">]</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span><span class="n">locmin</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="n">nx</span><span class="p">]</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_minor_formatter</span><span class="p">(</span><span class="n">NullFormatter</span><span class="p">())</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="n">nx</span><span class="p">]</span><span class="o">.</span><span class="n">set_xscale</span><span class="p">(</span><span class="s2">&quot;linear&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="n">nx</span><span class="p">]</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span><span class="n">AutoMinorLocator</span><span class="p">())</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">view</span><span class="o">.</span><span class="n">log_y</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="n">nx</span><span class="p">]</span><span class="o">.</span><span class="n">set_yscale</span><span class="p">(</span><span class="s2">&quot;log&quot;</span><span class="p">)</span>
                <span class="c1">#self.axarr[nx].yaxis.set_minor_locator(LogLocator(subs=range(10)))</span>
                <span class="n">locmaj</span> <span class="o">=</span> <span class="n">LogLocator</span><span class="p">(</span><span class="n">base</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">subs</span><span class="o">=</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="p">),</span> <span class="n">numticks</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="n">nx</span><span class="p">]</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">locmaj</span><span class="p">)</span>
                <span class="n">locmin</span> <span class="o">=</span> <span class="n">LogLocator</span><span class="p">(</span>
                    <span class="n">base</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">subs</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="o">*</span> <span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="n">numticks</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="n">nx</span><span class="p">]</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span><span class="n">locmin</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="n">nx</span><span class="p">]</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_minor_formatter</span><span class="p">(</span><span class="n">NullFormatter</span><span class="p">())</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="n">nx</span><span class="p">]</span><span class="o">.</span><span class="n">set_yscale</span><span class="p">(</span><span class="s2">&quot;linear&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="n">nx</span><span class="p">]</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span><span class="n">AutoMinorLocator</span><span class="p">())</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="n">nx</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">view</span><span class="o">.</span><span class="n">x_label</span> <span class="o">+</span> <span class="s1">&#39; [&#39;</span> <span class="o">+</span> <span class="n">view</span><span class="o">.</span><span class="n">x_units</span> <span class="o">+</span> <span class="s1">&#39;]&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="n">nx</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">view</span><span class="o">.</span><span class="n">y_label</span> <span class="o">+</span> <span class="s1">&#39; [&#39;</span> <span class="o">+</span> <span class="n">view</span><span class="o">.</span><span class="n">y_units</span> <span class="o">+</span> <span class="s1">&#39;]&#39;</span><span class="p">)</span>

            <span class="c1"># self.axarr[nx].plot(self.xData,self.yData)</span>

            <span class="k">if</span> <span class="n">autoscale</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="n">nx</span><span class="p">]</span><span class="o">.</span><span class="n">relim</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="n">nx</span><span class="p">]</span><span class="o">.</span><span class="n">autoscale</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="n">nx</span><span class="p">]</span><span class="o">.</span><span class="n">autoscale_view</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="n">nx</span><span class="p">]</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s2">&quot;auto&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Application.set_legend_properties"><a class="viewcode-back" href="../developers/CodeCoreCL.html#Application.Application.set_legend_properties">[docs]</a>    <span class="k">def</span> <span class="nf">set_legend_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;[summary]</span>
<span class="sd">        </span>
<span class="sd">        [description]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pass</span>
        <span class="n">leg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">frameon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">legend_visible</span><span class="p">):</span>
            <span class="n">leg</span><span class="o">.</span><span class="n">draggable</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">leg</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
            <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">pass</span></div></div>
                <span class="c1">#print(&quot;legend: %s&quot;%e)</span>
</pre></div>

          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">RepTate 0.9.2 20180503 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Module code</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Universidad Polit√©cnica de Madrid, University of Leeds.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.4.
    </div>
  </body>
</html>